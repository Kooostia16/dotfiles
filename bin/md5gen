#!/bin/bash

pd=$(pwd)

if [ -d "$*" ]; then
    cd "$*"
    echo "got dir" `pwd`;

    SAVEIFS=$IFS
    IFS=$(echo -en "\n\b")

    for i in $( find ./ -type f | grep -v .md5sum )
    do
        bname=$( basename "${i}" )
        md5sum "${bname}" > "${bname}".md5sum
        cat "${bname}".md5sum
    done



    exit;
fi;

pc=$( dirname "$*" )
cd $pc
bname=$( basename "$*" )
md5sum "${bname}" > "${bname}".md5sum
cat "${bname}".md5sum
cd $pd
